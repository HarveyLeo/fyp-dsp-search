{% extends 'dsp_search/base.html' %}
{% load static %}
{% load highlight %}

{% block css %}
  <link rel="stylesheet" href="{% static "dsp_search/css/results_page.css" %}">
{% endblock %}


{% block js %}
  <script src="{% static "dsp_search/js/results_page.js" %}"></script>
{% endblock %}


{% block content %}

  <div class="search-bar text-center navbar-fixed-top">
      <form class="form-inline" action="{% url 'results_page' %}" method="get">
      <div class="input-group">
        {{ search_form }}
        <div class="input-group-btn">
          <button type="submit" class="btn btn-danger">Search</button>
        </div>
      </div>
    </form>
  </div>


  <div id="wrapper">
    <!-- Sidebar -->
    <div id="sidebar-wrapper">
      <ul class="sidebar-nav" id="conceptTree">
        <li class="sidebar-brand">
          Concept Tree
        </li>
        <li>TECH
          <ul>
            <li>Company Maintenance</li>
            <li>Employees
              <ul>
                <li>Digital Signal Processing
                  <ul>
                    <li>Report1</li>
                    <li>Report2</li>
                    <li>Report3</li>
                  </ul>
                </li>
                <li>Employee Maint.</li>
              </ul>
            </li>
            <li>Human Resources</li>
          </ul>
        </li>

      </ul>
    </div>
    <!-- /#sidebar-wrapper -->

    <button type="button" class="btn btn-sidebar sharp" id="sidebar-toggle">
      <span class="glyphicon" id="arrow-icon"></span>
    </button>

    <!-- Page Content -->
    <div id="page-content-wrapper">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-12">
            {% if query %}
              {% if object_list %}
                <div class="alert alert-success"> {{ object_list | length }} results found. </div>
                {% for result in object_list %}
                  <p>{% highlight result.object.text with query  max_length 400  css_class "highlighted" %}</p>
                {% endfor %}
              {% else %}
                <div class="alert alert-warning"> No results found. </div>
              {% endif %}
            {% else %}
              <div class="alert alert-danger"> No query found. </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
    <!-- /#page-content-wrapper -->
  </div>
  <!-- /#wrapper -->

{% endblock %}